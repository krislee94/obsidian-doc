* 首先构建CriteriaBuilder 

```java

public class EquipmentHeadCriteriaBuilder {  
  
    public static Specification<CashierEquipmentMain> build(EquipmentHeadQueryRequest request) {  
        return (root, cquery, cbuild) -> {  
            List<Predicate> predicates = new ArrayList<>();  
  
            if (StringUtils.isNotEmpty(request.getStoreId())) {  
                predicates.add(cbuild.equal(root.get("storeId"), request.getStoreId()));  
            }  
  
            if (StringUtils.isNotEmpty(request.getAdminId())) {  
                predicates.add(cbuild.or(cbuild.equal(root.get("adminId"), request.getAdminId()), cbuild.like(root.get("adminName").as(String.class), "%" + request.getAdminId() + "%")));  
            }  
  
            if (StringUtils.isNotEmpty(request.getAdminName())) {  
                predicates.add(cbuild.like(root.get("adminName").as(String.class), "%" + request.getAdminName() + "%"));  
            }  
  
            if (CollectionUtils.isNotEmpty(request.getAdminIds())) {  
                predicates.add(root.get("adminId").in(request.getAdminIds()));  
            }  
  
  
            Predicate[] p = predicates.toArray(new Predicate[predicates.size()]);  
  
            return p.length == 0 ? null : p.length == 1 ? p[0] : cbuild.and(p);  
  
        };  
    }  
}



```


使用


```java

Page<CashierEquipmentMain> info = cashierEquipmentMainRepository.findAll(EquipmentHeadCriteriaBuilder.build(headQueryRequest),  
        headQueryRequest.getPageRequest());

```


